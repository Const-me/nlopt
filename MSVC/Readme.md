## NLopt for Visual C++ 2022 (AVX2/FMA3, DLL Build)

NLopt is a library for nonlinear local and global optimization, for functions with and without gradient information. 
It is designed as a simple, unified interface and packaging of several free/open-source nonlinear optimization libraries.

This repository contains a Visual C++ 2022 project to build a slightly modified version of NLopt as a Windows DLL.

Source based on the upstream `master` branch as of 17 June 2025, [commit 019f61ac7253a537760d9cdd9febd927ec97320c](https://github.com/stevengj/nlopt/commit/019f61ac7253a537760d9cdd9febd927ec97320c)

The resulting DLL requires a CPU with support for [FMA3](https://en.wikipedia.org/wiki/FMA_instruction_set#CPUs_with_FMA3) and [AVX2](https://en.wikipedia.org/wiki/Advanced_Vector_Extensions#CPUs_with_AVX2) instruction set extensions.

## Differences from Upstream

1. Created Visual C++ 2022 project. The only supported target platform is AMD64.

2. Replaced the implementation of the globally-convergent Method of Moving Asymptotes (MMA) algorithm from `mma.c` with a faster version in `mma.cpp`. The library API remains unchanged.

3. Embedded version information into the output `nlopt.dll`

To simplify future merges from upstream, no original source files have been modified; all changes in this fork are strictly additive.

## Build Instruction

Install Visual Studio 2022 with C++ support.

Open and build the `nlopt.vcxproj` located in `MSVC` folder.

The output binaries for the two configurations will be found in `MSVC/x64/Release` and `MSVC/x64/Debug`

To use the DLL in your C++ project, you will need the following headers:

* `nlopt/src/api/nlopt.h` — the C API header, unchanged from upstream.

* `MSVC/nlopt.hpp` — the C++ wrapper, generated by CMake without modification.